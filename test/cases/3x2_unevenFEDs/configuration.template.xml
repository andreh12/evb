<xc:Partition xmlns:soapenc="http://schemas.xmlsoap.org/soap/encoding/" xmlns:xc="http://xdaq.web.cern.ch/xdaq/xsd/2004/XMLConfiguration-30" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

  <i2o:protocol xmlns:i2o="http://xdaq.web.cern.ch/xdaq/xsd/2004/I2OConfiguration-30">
    <i2o:target class="evb::EVM" instance="0" tid="1"/>
    <i2o:target class="evb::RU" instance="0" tid="10"/>
    <i2o:target class="evb::RU" instance="1" tid="11"/>
    <i2o:target class="evb::BU" instance="0" tid="30"/>
    <i2o:target class="evb::BU" instance="1" tid="31"/>
  </i2o:protocol>

  <xc:Context url="http://EVM0_SOAP_HOST_NAME:EVM0_SOAP_PORT">

    <xc:Endpoint protocol="atcp" service="i2o" hostname="EVM0_I2O_HOST_NAME" port="EVM0_I2O_PORT" network="tcp" targetId="12"/>

    <xc:Application class="pt::atcp::PeerTransportATCP" id="11" instance="0" network="local">
      <properties xmlns="urn:xdaq-application:pt::atcp::PeerTransportATCP" xsi:type="soapenc:Struct"/>
    </xc:Application>
    <xc:Module>$XDAQ_ROOT/lib/libptatcp.so</xc:Module>

    <!--xc:Application class="pt::utcp::Application" id="11" instance="0" network="tcp">
      <properties xmlns="urn:xdaq-application:pt::utcp::Application" xsi:type="soapenc:Struct">
        <protocol xsi:type="xsd:string">atcp</protocol>
        <maxClients xsi:type="xsd:unsignedInt">9</maxClients>
        <autoConnect xsi:type="xsd:boolean">false</autoConnect>
        <ioQueueSize xsi:type="xsd:unsignedInt">65536</ioQueueSize>
        <eventQueueSize xsi:type="xsd:unsignedInt">65536</eventQueueSize>
        <maxReceiveBuffers xsi:type="xsd:unsignedInt">12</maxReceiveBuffers>
        <maxBlockSize xsi:type="xsd:unsignedInt">32074</maxBlockSize>
        <fragmentPoolSize xsi:type="xsd:unsignedInt">786432</fragmentPoolSize>
      </properties>
    </xc:Application-->

    <xc:Application class="evb::EVM" id="12" instance="0" network="tcp">
      <properties xmlns="urn:xdaq-application:evb::EVM" xsi:type="soapenc:Struct">
        <inputSource xsi:type="xsd:string">Local</inputSource>
        <dropInputData xsi:type="xsd:boolean">false</dropInputData>
        <fedSourceIds soapenc:arrayType="xsd:ur-type[7]" xsi:type="soapenc:Array">
          <item soapenc:position="[0]" xsi:type="xsd:unsignedInt">676</item>
          <item soapenc:position="[1]" xsi:type="xsd:unsignedInt">45</item>
          <item soapenc:position="[2]" xsi:type="xsd:unsignedInt">76</item>
          <item soapenc:position="[3]" xsi:type="xsd:unsignedInt">789</item>
          <item soapenc:position="[4]" xsi:type="xsd:unsignedInt">512</item>
          <item soapenc:position="[5]" xsi:type="xsd:unsignedInt">89</item>
          <item soapenc:position="[6]" xsi:type="xsd:unsignedInt">23</item>
        </fedSourceIds>
      </properties>
    </xc:Application>

    <xc:Application class="xmem::probe::Application" id="21" instance="0" network="local"/>

    <xc:Module>$XDAQ_ROOT/lib/libxmemprobe.so</xc:Module>
    <xc:Module>$XDAQ_ROOT/lib/libptutcp.so</xc:Module>
    <xc:Module>$XDAQ_ROOT/lib/libxdaq2rc.so</xc:Module>
    <xc:Module>$XDAQ_LOCAL/lib/libevb.so</xc:Module>

  </xc:Context>


  <xc:Context url="http://RU0_SOAP_HOST_NAME:RU0_SOAP_PORT">

    <xc:Endpoint protocol="atcp" service="i2o" hostname="RU0_I2O_HOST_NAME" port="RU0_I2O_PORT" network="tcp" targetId="12"/>

    <xc:Application class="pt::atcp::PeerTransportATCP" id="11" instance="1" network="local">
      <properties xmlns="urn:xdaq-application:pt::atcp::PeerTransportATCP" xsi:type="soapenc:Struct"/>
    </xc:Application>
    <xc:Module>$XDAQ_ROOT/lib/libptatcp.so</xc:Module>

    <!--xc:Application class="pt::utcp::Application" id="11" instance="1" network="tcp">
      <properties xmlns="urn:xdaq-application:pt::utcp::Application" xsi:type="soapenc:Struct">
        <protocol xsi:type="xsd:string">atcp</protocol>
        <maxClients xsi:type="xsd:unsignedInt">9</maxClients>
        <autoConnect xsi:type="xsd:boolean">false</autoConnect>
        <ioQueueSize xsi:type="xsd:unsignedInt">65536</ioQueueSize>
        <eventQueueSize xsi:type="xsd:unsignedInt">65536</eventQueueSize>
        <maxReceiveBuffers xsi:type="xsd:unsignedInt">12</maxReceiveBuffers>
        <maxBlockSize xsi:type="xsd:unsignedInt">32074</maxBlockSize>
        <fragmentPoolSize xsi:type="xsd:unsignedInt">786432</fragmentPoolSize>
      </properties>
    </xc:Application-->

    <xc:Application class="evb::RU" id="12" instance="0" network="tcp">
      <properties xmlns="urn:xdaq-application:evb::RU" xsi:type="soapenc:Struct">
        <inputSource xsi:type="xsd:string">Local</inputSource>
        <fedSourceIds soapenc:arrayType="xsd:ur-type[12]" xsi:type="soapenc:Array">
          <item soapenc:position="[0]" xsi:type="xsd:unsignedInt">1</item>
          <item soapenc:position="[1]" xsi:type="xsd:unsignedInt">5</item>
          <item soapenc:position="[2]" xsi:type="xsd:unsignedInt">67</item>
          <item soapenc:position="[3]" xsi:type="xsd:unsignedInt">78</item>
          <item soapenc:position="[4]" xsi:type="xsd:unsignedInt">98</item>
          <item soapenc:position="[5]" xsi:type="xsd:unsignedInt">120</item>
          <item soapenc:position="[6]" xsi:type="xsd:unsignedInt">125</item>
          <item soapenc:position="[7]" xsi:type="xsd:unsignedInt">128</item>
          <item soapenc:position="[8]" xsi:type="xsd:unsignedInt">131</item>
          <item soapenc:position="[9]" xsi:type="xsd:unsignedInt">113</item>
          <item soapenc:position="[10]" xsi:type="xsd:unsignedInt">543</item>
          <item soapenc:position="[11]" xsi:type="xsd:unsignedInt">454</item>
        </fedSourceIds>
       </properties>
    </xc:Application>

    <xc:Application class="xmem::probe::Application" id="21" instance="0" network="local"/>

    <xc:Module>$XDAQ_ROOT/lib/libxmemprobe.so</xc:Module>
    <xc:Module>$XDAQ_ROOT/lib/libptutcp.so</xc:Module>
    <xc:Module>$XDAQ_ROOT/lib/libxdaq2rc.so</xc:Module>
    <xc:Module>$XDAQ_LOCAL/lib/libevb.so</xc:Module>

  </xc:Context>


  <xc:Context url="http://RU1_SOAP_HOST_NAME:RU1_SOAP_PORT">

    <xc:Endpoint protocol="atcp" service="i2o" hostname="RU1_I2O_HOST_NAME" port="RU1_I2O_PORT" network="tcp" targetId="12"/>

    <xc:Application class="pt::atcp::PeerTransportATCP" id="11" instance="2" network="local">
      <properties xmlns="urn:xdaq-application:pt::atcp::PeerTransportATCP" xsi:type="soapenc:Struct"/>
    </xc:Application>
    <xc:Module>$XDAQ_ROOT/lib/libptatcp.so</xc:Module>

    <!--xc:Application class="pt::utcp::Application" id="11" instance="1" network="tcp">
      <properties xmlns="urn:xdaq-application:pt::utcp::Application" xsi:type="soapenc:Struct">
        <protocol xsi:type="xsd:string">atcp</protocol>
        <maxClients xsi:type="xsd:unsignedInt">9</maxClients>
        <autoConnect xsi:type="xsd:boolean">false</autoConnect>
        <ioQueueSize xsi:type="xsd:unsignedInt">65536</ioQueueSize>
        <eventQueueSize xsi:type="xsd:unsignedInt">65536</eventQueueSize>
        <maxReceiveBuffers xsi:type="xsd:unsignedInt">12</maxReceiveBuffers>
        <maxBlockSize xsi:type="xsd:unsignedInt">32074</maxBlockSize>
        <fragmentPoolSize xsi:type="xsd:unsignedInt">786432</fragmentPoolSize>
      </properties>
    </xc:Application-->

    <xc:Application class="evb::RU" id="12" instance="1" network="tcp">
      <properties xmlns="urn:xdaq-application:evb::RU" xsi:type="soapenc:Struct">
        <inputSource xsi:type="xsd:string">Local</inputSource>
        <fedSourceIds soapenc:arrayType="xsd:ur-type[9]" xsi:type="soapenc:Array">
          <item soapenc:position="[0]" xsi:type="xsd:unsignedInt">15</item>
          <item soapenc:position="[1]" xsi:type="xsd:unsignedInt">57</item>
          <item soapenc:position="[2]" xsi:type="xsd:unsignedInt">69</item>
          <item soapenc:position="[3]" xsi:type="xsd:unsignedInt">79</item>
          <item soapenc:position="[4]" xsi:type="xsd:unsignedInt">96</item>
          <item soapenc:position="[5]" xsi:type="xsd:unsignedInt">110</item>
          <item soapenc:position="[6]" xsi:type="xsd:unsignedInt">115</item>
          <item soapenc:position="[7]" xsi:type="xsd:unsignedInt">118</item>
          <item soapenc:position="[8]" xsi:type="xsd:unsignedInt">121</item>
        </fedSourceIds>
      </properties>
    </xc:Application>

    <xc:Application class="xmem::probe::Application" id="21" instance="0" network="local"/>

    <xc:Module>$XDAQ_ROOT/lib/libxmemprobe.so</xc:Module>
    <xc:Module>$XDAQ_ROOT/lib/libptutcp.so</xc:Module>
    <xc:Module>$XDAQ_ROOT/lib/libxdaq2rc.so</xc:Module>
    <xc:Module>$XDAQ_LOCAL/lib/libevb.so</xc:Module>

  </xc:Context>


  <xc:Context url="http://BU0_SOAP_HOST_NAME:BU0_SOAP_PORT">

    <xc:Endpoint protocol="atcp" service="i2o" hostname="BU0_I2O_HOST_NAME" port="BU0_I2O_PORT" network="tcp" targetId="12"/>

    <xc:Application class="pt::atcp::PeerTransportATCP" id="11" instance="3" network="local">
      <properties xmlns="urn:xdaq-application:pt::atcp::PeerTransportATCP" xsi:type="soapenc:Struct"/>
    </xc:Application>
    <xc:Module>$XDAQ_ROOT/lib/libptatcp.so</xc:Module>

    <!--xc:Application class="pt::utcp::Application" id="11" instance="2" network="tcp">
      <properties xmlns="urn:xdaq-application:pt::utcp::Application" xsi:type="soapenc:Struct">
        <protocol xsi:type="xsd:string">atcp</protocol>
        <maxClients xsi:type="xsd:unsignedInt">9</maxClients>
        <autoConnect xsi:type="xsd:boolean">false</autoConnect>
        <ioQueueSize xsi:type="xsd:unsignedInt">65536</ioQueueSize>
        <eventQueueSize xsi:type="xsd:unsignedInt">65536</eventQueueSize>
        <maxReceiveBuffers xsi:type="xsd:unsignedInt">12</maxReceiveBuffers>
        <maxBlockSize xsi:type="xsd:unsignedInt">32074</maxBlockSize>
        <fragmentPoolSize xsi:type="xsd:unsignedInt">786432</fragmentPoolSize>
      </properties>
    </xc:Application-->

    <xc:Application class="evb::BU" id="12" instance="0" network="tcp">
      <properties xmlns="urn:xdaq-application:evb::BU" xsi:type="soapenc:Struct">
        <dropEventData xsi:type="xsd:boolean">true</dropEventData>
      </properties>
    </xc:Application>

    <xc:Application class="xmem::probe::Application" id="21" instance="0" network="local"/>

    <xc:Module>$XDAQ_ROOT/lib/libxmemprobe.so</xc:Module>
    <xc:Module>$XDAQ_ROOT/lib/libptutcp.so</xc:Module>
    <xc:Module>$XDAQ_ROOT/lib/libxdaq2rc.so</xc:Module>
    <xc:Module>$XDAQ_LOCAL/lib/libevb.so</xc:Module>

  </xc:Context>


  <xc:Context url="http://BU1_SOAP_HOST_NAME:BU1_SOAP_PORT">

    <xc:Endpoint protocol="atcp" service="i2o" hostname="BU1_I2O_HOST_NAME" port="BU1_I2O_PORT" network="tcp" targetId="12"/>

    <xc:Application class="pt::atcp::PeerTransportATCP" id="11" instance="4" network="local">
      <properties xmlns="urn:xdaq-application:pt::atcp::PeerTransportATCP" xsi:type="soapenc:Struct"/>
    </xc:Application>
    <xc:Module>$XDAQ_ROOT/lib/libptatcp.so</xc:Module>

    <!--xc:Application class="pt::utcp::Application" id="11" instance="2" network="tcp">
      <properties xmlns="urn:xdaq-application:pt::utcp::Application" xsi:type="soapenc:Struct">
        <protocol xsi:type="xsd:string">atcp</protocol>
        <maxClients xsi:type="xsd:unsignedInt">9</maxClients>
        <autoConnect xsi:type="xsd:boolean">false</autoConnect>
        <ioQueueSize xsi:type="xsd:unsignedInt">65536</ioQueueSize>
        <eventQueueSize xsi:type="xsd:unsignedInt">65536</eventQueueSize>
        <maxReceiveBuffers xsi:type="xsd:unsignedInt">12</maxReceiveBuffers>
        <maxBlockSize xsi:type="xsd:unsignedInt">32074</maxBlockSize>
        <fragmentPoolSize xsi:type="xsd:unsignedInt">786432</fragmentPoolSize>
      </properties>
    </xc:Application-->

    <xc:Application class="evb::BU" id="12" instance="1" network="tcp">
      <properties xmlns="urn:xdaq-application:evb::BU" xsi:type="soapenc:Struct">
        <dropEventData xsi:type="xsd:boolean">true</dropEventData>
      </properties>
    </xc:Application>

    <xc:Application class="xmem::probe::Application" id="21" instance="0" network="local"/>

    <xc:Module>$XDAQ_ROOT/lib/libxmemprobe.so</xc:Module>
    <xc:Module>$XDAQ_ROOT/lib/libptutcp.so</xc:Module>
    <xc:Module>$XDAQ_ROOT/lib/libxdaq2rc.so</xc:Module>
    <xc:Module>$XDAQ_LOCAL/lib/libevb.so</xc:Module>

  </xc:Context>

</xc:Partition>
